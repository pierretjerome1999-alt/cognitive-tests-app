<!-- Generated: 1771324980 -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tests cognitifs avec leaderboards">
    <meta name="theme-color" content="#2196F3">
    <title>Tests Cognitifs v1771324980</title>
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container { max-width: 600px; margin: 0 auto; }
        .card { 
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .hidden { display: none !important; }
        h1, h2 { color: #2196F3; margin-bottom: 16px; }
        button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 8px 4px;
            transition: all 0.3s;
        }
        button:hover { 
            background: #1976D2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);
        }
        .center { text-align: center; }
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 16px 0;
        }
        .menu-btn {
            padding: 20px;
            text-align: center;
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .menu-btn:hover { 
            border-color: #2196F3;
            background: #e3f2fd;
        }
        .menu-btn h3 { color: #2196F3; margin-bottom: 8px; }
        .difficulty-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 16px 0;
        }
        .difficulty-btn {
            padding: 12px;
            text-align: center;
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
        }
        .difficulty-btn:hover { 
            border-color: #2196F3;
            background: #e3f2fd;
        }
        input {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 2px solid #2196F3;
            border-radius: 8px;
            font-size: 16px;
        }
        .score {
            font-size: 32px;
            font-weight: bold;
            color: #2196F3;
            text-align: center;
            margin: 20px 0;
        }
        .leaderboard {
            margin-top: 20px;
        }
        .leaderboard-item {
            padding: 12px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 4px solid #2196F3;
        }
        .leaderboard-item.place1 { border-left-color: #ffc107; background: #fff3e0; }
        .leaderboard-item.place2 { border-left-color: #c0c0c0; background: #f3f3f3; }
        .leaderboard-item.place3 { border-left-color: #cd7f32; background: #fce4ec; }
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 16px 0;
        }
        .option-btn {
            background: #f5f5f5;
            color: #333;
            border: 2px solid #ddd;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
        }
        .option-btn:hover { border-color: #2196F3; background: #e3f2fd; }
        .option-btn.selected { background: #2196F3; color: white; border-color: #2196F3; }
        .option-btn.correct { background: #4caf50; color: white; border-color: #4caf50; }
        .option-btn.incorrect { background: #f44336; color: white; border-color: #f44336; }
        .timer { font-size: 24px; font-weight: bold; color: #2196F3; margin: 16px 0; }
        .progress { width: 100%; height: 8px; background: #e0e0e0; border-radius: 4px; margin: 16px 0; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); }
    </style>
</head>
<body>
    <div class="container">
        <!-- √âcran d'accueil -->
        <div id="homeScreen" class="card center">
            <h1>üß† Tests Cognitifs</h1>
            <p style="margin: 16px 0; color: #666;">√âvaluez vos capacit√©s mentales</p>
            <button onclick="app.goToTestSelection()">Commencer</button>
            <button onclick="app.viewLeaderboard()">Classements</button>
        </div>

        <!-- S√©lection du test -->
        <div id="testSelectionScreen" class="card hidden">
            <h2>Choisir un test</h2>
            <div class="menu-grid" id="testGrid"></div>
            <button onclick="app.goHome()" style="width: 100%; margin-top: 16px;">‚Üê Retour</button>
        </div>

        <!-- S√©lection de la difficult√© -->
        <div id="difficultyScreen" class="card hidden">
            <h2 id="difficultyTitle"></h2>
            <p id="difficultyDesc"></p>
            <div class="difficulty-grid" id="difficultyGrid"></div>
            <button onclick="app.goToTestSelection()" style="width: 100%; margin-top: 16px;">‚Üê Retour</button>
        </div>

        <!-- √âcran du test -->
        <div id="testScreen" class="card hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <h2 id="testTitle"></h2>
                <div class="timer" id="timer"></div>
            </div>
            <div class="progress">
                <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
            </div>
            <p id="questionCounter" style="color: #666; margin-bottom: 16px;"></p>
            <div id="testContent"></div>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button id="prevBtn" onclick="app.previousQuestion()">‚Üê Pr√©c√©dent</button>
                <button id="nextBtn" onclick="app.nextQuestion()">Suivant ‚Üí</button>
                <button id="submitBtn" onclick="app.submitTest()" style="display: none; background: #4caf50;">Terminer</button>
            </div>
        </div>

        <!-- R√©sultats -->
        <div id="resultsScreen" class="card hidden center">
            <h2>Test Termin√© ‚úì</h2>
            <div class="score" id="scoreDisplay"></div>
            <input type="text" id="playerNameInput" placeholder="Votre nom (pour enregistrer votre score)">
            <button onclick="app.saveResult()">Enregistrer le score</button>
            <button onclick="app.goHome()" style="width: 100%; margin-top: 16px; background: #666;">‚Üê Retour</button>
        </div>

        <!-- Classements -->
        <div id="leaderboardScreen" class="card hidden">
            <h2>Classements</h2>
            <div id="leaderboardContent"></div>
            <button onclick="app.goHome()" style="width: 100%; margin-top: 16px;">‚Üê Retour</button>
        </div>
    </div>

    <script>
        const app = {
            tests: [
                { id: 'speed', name: 'Rapidit√©', icon: '‚ö°', desc: 'Testez votre vitesse de traitement' },
                { id: 'memory', name: 'M√©moire', icon: 'üíæ', desc: '√âvaluez votre m√©moire' },
                { id: 'logic', name: 'Logique', icon: 'üß©', desc: 'Testez votre raisonnement logique' },
                { id: 'attention', name: 'Attention', icon: 'üëÅÔ∏è', desc: 'Testez votre concentration' },
                { id: 'numeric', name: 'Num√©rique', icon: 'üî¢', desc: 'Testez vos comp√©tences num√©riques' }
            ],
            
            difficulties: [
                { id: '10q', name: '10 Questions', type: 'questions', value: 10 },
                { id: '20q', name: '20 Questions', type: 'questions', value: 20 },
                { id: '50q', name: '50 Questions', type: 'questions', value: 50 },
                { id: '3min', name: '3 Minutes', type: 'time', value: 3 },
                { id: '9min', name: '9 Minutes', type: 'time', value: 9 }
            ],

            currentTest: null,
            currentDifficulty: null,
            currentQuestion: 0,
            answers: [],
            score: 0,
            startTime: null,

            // Questions de d√©monstration
            questions: {
                speed: [
                    { q: '2 + 2 = ?', options: ['3', '4', '5', '6'], correct: 1 },
                    { q: '5 √ó 3 = ?', options: ['10', '15', '20', '25'], correct: 1 },
                    { q: '10 - 3 = ?', options: ['5', '6', '7', '8'], correct: 2 },
                    { q: '20 √∑ 4 = ?', options: ['4', '5', '6', '7'], correct: 1 },
                    { q: '7 + 8 = ?', options: ['14', '15', '16', '17'], correct: 2 },
                    { q: '100 - 45 = ?', options: ['50', '55', '60', '65'], correct: 1 },
                    { q: '6 √ó 7 = ?', options: ['40', '42', '44', '46'], correct: 1 },
                    { q: '30 √∑ 5 = ?', options: ['5', '6', '7', '8'], correct: 1 },
                    { q: '9 + 11 = ?', options: ['18', '19', '20', '21'], correct: 2 },
                    { q: '50 √ó 2 = ?', options: ['90', '100', '110', '120'], correct: 1 }
                ],
                memory: [
                    { q: 'Quelle est la premi√®re lettre de l\'alphabet ?', options: ['A', 'B', 'C', 'D'], correct: 0 },
                    { q: 'Quelle est la couleur du ciel ?', options: ['Rouge', 'Bleu', 'Vert', 'Jaune'], correct: 1 },
                    { q: 'Combien de continents existe-t-il ?', options: ['5', '6', '7', '8'], correct: 2 },
                    { q: 'Quelle est la capitale de la France ?', options: ['Marseille', 'Lyon', 'Paris', 'Bordeaux'], correct: 2 },
                    { q: 'En quelle ann√©e est n√© Einstein ?', options: ['1879', '1880', '1881', '1882'], correct: 0 },
                    { q: 'Combien de jours dans une ann√©e ?', options: ['360', '365', '370', '375'], correct: 1 },
                    { q: 'Quel est le plus grand oc√©an ?', options: ['Atlantique', 'Pacifique', 'Indien', 'Arctique'], correct: 1 },
                    { q: 'Combien de lettre au mot √âL√âPHANT ?', options: ['7', '8', '9', '10'], correct: 1 },
                    { q: 'Quelle est la monnaie de l\'Europe ?', options: ['Dollar', 'Livre', 'Euro', 'Roupie'], correct: 2 },
                    { q: 'Quel est le plus haut sommet du monde ?', options: ['Everest', 'K2', 'Kanchenjunga', 'Denali'], correct: 0 }
                ],
                logic: [
                    { q: 'Si A > B et B > C, alors A > C ?', options: ['Oui', 'Non'], correct: 0 },
                    { q: '2, 4, 6, 8, ?', options: ['9', '10', '11', '12'], correct: 1 },
                    { q: 'Tous les chats sont des animaux. Tous les animaux respirent. Donc tous les chats respirent ?', options: ['Vrai', 'Faux'], correct: 0 },
                    { q: '1, 4, 9, 16, ?', options: ['20', '22', '24', '25'], correct: 3 },
                    { q: 'Si A = 1, B = 2, C = 3, alors D = ?', options: ['3', '4', '5', '6'], correct: 1 },
                    { q: 'Un carr√© est un rectangle ?', options: ['Vrai', 'Faux'], correct: 0 },
                    { q: '5, 10, 20, 40, ?', options: ['50', '60', '80', '100'], correct: 2 },
                    { q: 'Tous les enfants vont √† l\'√©cole. Tous les enfants sont des humains. Vrai ?', options: ['Vrai', 'Faux'], correct: 0 },
                    { q: '100, 90, 81, 73, ?', options: ['66', '64', '62', '60'], correct: 0 },
                    { q: 'Si X + 5 = 12, alors X = ?', options: ['5', '6', '7', '8'], correct: 2 }
                ],
                attention: [
                    { q: 'Trouvez la diff√©rence : BBBBBB vs BBBBGB', options: ['Position 5', 'Position 6', 'Identique', 'Position 3'], correct: 1 },
                    { q: 'Combien de fois le A appara√Æt dans ABRACADABRA ?', options: ['3', '4', '5', '6'], correct: 2 },
                    { q: 'Trouvez l\'intrus : CHAT, CHIEN, VACHE, TABLE', options: ['CHAT', 'CHIEN', 'VACHE', 'TABLE'], correct: 3 },
                    { q: 'Combien de triangle dans ce carr√© divis√© en 4 ?', options: ['4', '8', '10', '12'], correct: 2 },
                    { q: 'Trouvez : 123 321 312 213 ?', options: ['213', '231', '321', '132'], correct: 1 },
                    { q: 'Quelle couleur n\'appara√Æt pas : rouge, bleu, vert, jaune ?', options: ['Orange', 'Violet', 'Rose', 'Marron'], correct: 0 },
                    { q: 'Combien de O dans OOOOOOOO ?', options: ['6', '7', '8', '9'], correct: 2 },
                    { q: 'Trouvez : 12345 21345 31245 ?', options: ['41235', '41325', '41523', '42135'], correct: 1 },
                    { q: 'La moiti√© de 26 est ?', options: ['12', '13', '14', '15'], correct: 1 },
                    { q: 'Combien de E dans EEEEEE ?', options: ['4', '5', '6', '7'], correct: 2 }
                ],
                numeric: [
                    { q: '15% de 100 = ?', options: ['10', '15', '20', '25'], correct: 1 },
                    { q: '‚àö16 = ?', options: ['2', '3', '4', '5'], correct: 2 },
                    { q: '2¬≥ = ?', options: ['6', '8', '9', '10'], correct: 1 },
                    { q: '50 est quel % de 200 ?', options: ['20%', '25%', '30%', '35%'], correct: 1 },
                    { q: 'La moyenne de 10, 20, 30 = ?', options: ['18', '19', '20', '21'], correct: 2 },
                    { q: 'Si 3x = 15, alors x = ?', options: ['4', '5', '6', '7'], correct: 1 },
                    { q: '12 √ó 11 = ?', options: ['120', '130', '132', '140'], correct: 2 },
                    { q: '1000 √∑ 8 = ?', options: ['100', '125', '150', '175'], correct: 1 },
                    { q: 'Quel est le double de 37 ?', options: ['70', '72', '74', '76'], correct: 2 },
                    { q: '99 + 101 = ?', options: ['190', '195', '200', '205'], correct: 2 }
                ]
            },

            goHome() {
                document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
                document.getElementById('homeScreen').classList.remove('hidden');
            },

            goToTestSelection() {
                document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
                const grid = document.getElementById('testGrid');
                grid.innerHTML = this.tests.map(test =>
                    `<div class="menu-btn" onclick="app.selectTest('${test.id}')">
                        <div style="font-size: 32px; margin-bottom: 8px;">${test.icon}</div>
                        <h3>${test.name}</h3>
                        <p style="color: #999; font-size: 12px;">${test.desc}</p>
                    </div>`
                ).join('');
                document.getElementById('testSelectionScreen').classList.remove('hidden');
            },

            selectTest(testId) {
                this.currentTest = testId;
                document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
                const test = this.tests.find(t => t.id === testId);
                document.getElementById('difficultyTitle').textContent = test.name;
                document.getElementById('difficultyDesc').textContent = 'Choisir une difficult√©';
                const grid = document.getElementById('difficultyGrid');
                grid.innerHTML = this.difficulties.map(diff =>
                    `<button class="difficulty-btn" onclick="app.startTest('${diff.id}')">
                        ${diff.name}
                    </button>`
                ).join('');
                document.getElementById('difficultyScreen').classList.remove('hidden');
            },

            startTest(diffId) {
                this.currentDifficulty = diffId;
                this.currentQuestion = 0;
                this.answers = [];
                this.score = 0;
                this.startTime = Date.now();

                document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
                document.getElementById('testScreen').classList.remove('hidden');
                
                const test = this.tests.find(t => t.id === this.currentTest);
                document.getElementById('testTitle').textContent = test.name;
                
                this.displayQuestion();
            },

            displayQuestion() {
                const testQuestions = this.questions[this.currentTest];
                const q = testQuestions[this.currentQuestion];
                const diff = this.difficulties.find(d => d.id === this.currentDifficulty);
                const totalQuestions = Math.min(testQuestions.length, diff.type === 'questions' ? diff.value : 10);
                
                document.getElementById('questionCounter').textContent = `Question ${this.currentQuestion + 1}/${totalQuestions}`;
                document.getElementById('progressBar').style.width = ((this.currentQuestion + 1) / totalQuestions * 100) + '%';
                
                const content = document.getElementById('testContent');
                content.innerHTML = `
                    <h3>${q.q}</h3>
                    <div class="options" id="optionsContainer">
                        ${q.options.map((opt, i) => 
                            `<button class="option-btn" onclick="app.selectAnswer(${i})">
                                ${opt}
                            </button>`
                        ).join('')}
                    </div>
                `;

                document.getElementById('prevBtn').style.display = this.currentQuestion > 0 ? 'block' : 'none';
                document.getElementById('nextBtn').style.display = 'block';
                document.getElementById('submitBtn').style.display = 'none';

                const diff_count = Math.min(testQuestions.length, diff.type === 'questions' ? diff.value : 10);
                if (this.currentQuestion === diff_count - 1) {
                    document.getElementById('nextBtn').style.display = 'none';
                    document.getElementById('submitBtn').style.display = 'block';
                }
            },

            selectAnswer(idx) {
                this.answers[this.currentQuestion] = idx;
                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach(b => b.classList.remove('selected'));
                buttons[idx].classList.add('selected');
            },

            nextQuestion() {
                const testQuestions = this.questions[this.currentTest];
                const diff = this.difficulties.find(d => d.id === this.currentDifficulty);
                const totalQuestions = Math.min(testQuestions.length, diff.type === 'questions' ? diff.value : 10);
                
                if (this.currentQuestion < totalQuestions - 1) {
                    this.currentQuestion++;
                    this.displayQuestion();
                }
            },

            previousQuestion() {
                if (this.currentQuestion > 0) {
                    this.currentQuestion--;
                    this.displayQuestion();
                }
            },

            submitTest() {
                const testQuestions = this.questions[this.currentTest];
                const diff = this.difficulties.find(d => d.id === this.currentDifficulty);
                const totalQuestions = Math.min(testQuestions.length, diff.type === 'questions' ? diff.value : 10);
                
                this.score = 0;
                for (let i = 0; i < totalQuestions; i++) {
                    if (this.answers[i] === testQuestions[i].correct) {
                        this.score++;
                    }
                }

                const duration = Math.round((Date.now() - this.startTime) / 1000);
                document.getElementById('scoreDisplay').textContent = `${this.score}/${totalQuestions}`;

                document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
                document.getElementById('resultsScreen').classList.remove('hidden');
            },

            saveResult() {
                const name = document.getElementById('playerNameInput').value || 'Anonyme';
                const testQuestions = this.questions[this.currentTest];
                const diff = this.difficulties.find(d => d.id === this.currentDifficulty);
                const totalQuestions = Math.min(testQuestions.length, diff.type === 'questions' ? diff.value : 10);
                
                const leaderboards = JSON.parse(localStorage.getItem('leaderboards') || '{}');
                const key = `${this.currentTest}_${this.currentDifficulty}`;
                
                if (!leaderboards[key]) leaderboards[key] = [];
                
                const duration = Math.round((Date.now() - this.startTime) / 1000);
                leaderboards[key].push({
                    name: name,
                    score: this.score,
                    total: totalQuestions,
                    time: duration,
                    date: new Date().toISOString()
                });

                leaderboards[key].sort((a, b) => b.score - a.score);
                leaderboards[key] = leaderboards[key].slice(0, 3);

                localStorage.setItem('leaderboards', JSON.stringify(leaderboards));

                alert('Score enregistr√© !');
                this.goHome();
            },

            viewLeaderboard() {
                document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
                const leaderboards = JSON.parse(localStorage.getItem('leaderboards') || '{}');
                
                let html = '';
                this.tests.forEach(test => {
                    this.difficulties.forEach(diff => {
                        const key = `${test.id}_${diff.id}`;
                        const scores = leaderboards[key] || [];
                        
                        if (scores.length > 0) {
                            html += `<h3>${test.name} - ${diff.name}</h3>`;
                            html += '<div class="leaderboard">';
                            scores.forEach((score, idx) => {
                                const medals = ['ü•á', 'ü•à', 'ü•â'];
                                html += `
                                    <div class="leaderboard-item place${idx + 1}">
                                        <span>${medals[idx]}</span>
                                        <div>
                                            <strong>${score.name}</strong><br>
                                            <small>${score.score}/${score.total} - ${score.time}s</small>
                                        </div>
                                    </div>
                                `;
                            });
                            html += '</div>';
                        }
                    });
                });

                document.getElementById('leaderboardContent').innerHTML = html || '<p>Aucun score enregistr√©</p>';
                document.getElementById('leaderboardScreen').classList.remove('hidden');
            }
        };

        // Initialiser
        app.goHome();

        // Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(() => {});
        }
    </script>
</body>
</html>